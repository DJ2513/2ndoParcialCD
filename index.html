<html>
    <head>
	<title>Jamboard</title>
	<style>
	    #canvas{
		border: 1px solid black;
	    }
	</style>
    </head>
    <body>
	<canvas id="canvas" width=500 height=400 /> 
	<script>
	    const canvas = document.querySelector("#canvas")
	    const ctx = canvas.getContext("2d")

	    let mousedown = false
	    let prev = { x: 0, y: 0}

	    canvas.onmousedown = (evt) => {
		mousedown = true
		const { x, y }= evt
		prev = {x, y}

	    }

	    canvas.onmouseup = () => {
		mousedown = false
	    }

	    canvas.onmousemove = (evt) => {
		if(mousedown){
		    const { x, y }= evt
		    ctx.beginPath()
		    ctx.moveTo(prev.x, prev.y)
		    ctx.lineTo(x, y)
		    ctx.stroke()

		    prev = {x, y}
		}
	    }

	    function getCanvasData(){
		return canvas.toDataURL("image/jpeg", 1)
	    }

	    function updateCanvas(dataURL){
		dataURL = dataURL.trim()
		let img = new Image();
		img.onload = () => {
		    ctx.drawImage(img, 0,0, canvas.width, canvas.height)
		}
		img.src= dataURL;
		ctx.strokeStyle = "#f00";
		//ctx.clearRect(0,0, canvas.width, canvas.height);

		return dataURL
	    }
	</script>
    </body>
</html>
